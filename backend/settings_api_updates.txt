"""
Settings updates needed for API migration
Add these to your existing settings.py file
"""

# Add to INSTALLED_APPS:
INSTALLED_APPS_ADDITIONS = [
    'rest_framework',
    'corsheaders',
    'notifications',  # New app
]

# Add to MIDDLEWARE (at the top, before CommonMiddleware):
MIDDLEWARE_ADDITIONS = [
    'corsheaders.middleware.CorsMiddleware',
]

# Add REST Framework configuration:
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.SessionAuthentication',
    ],
    'DEFAULT_PERMISSION_CLASSES': [
        'rest_framework.permissions.IsAuthenticated',
    ],
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',
    'PAGE_SIZE': 20,
    'DEFAULT_RENDERER_CLASSES': [
        'rest_framework.renderers.JSONRenderer',
        'rest_framework.renderers.BrowsableAPIRenderer',
    ],
}

# CORS settings (adjust for production):
CORS_ALLOWED_ORIGINS = [
    "http://localhost:5173",  # Vite default port
    "http://localhost:3000",  # Alternative React port
    "http://127.0.0.1:5173",
    "http://127.0.0.1:3000",
]

CORS_ALLOW_CREDENTIALS = True

# Allow all origins in development (remove in production):
# CORS_ALLOW_ALL_ORIGINS = True  # Only for development!

# CSRF settings for API:
CSRF_TRUSTED_ORIGINS = [
    "http://localhost:5173",
    "http://localhost:3000",
    "http://127.0.0.1:5173",
    "http://127.0.0.1:3000",
]
